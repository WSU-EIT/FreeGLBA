# 101 — Meeting: FreeGLBA Style Guide Compliance Review

> **Document ID:** 101  
> **Category:** Meeting  
> **Purpose:** Team standup to plan review of all FreeGLBA.App.* files for FreeCRM style guide compliance  
> **Attendees:** [Architect], [Backend], [Frontend], [Quality], [Sanity]  
> **Date:** 2025-01-15  
> **Predicted Outcome:** Categorized file list with review phases and assigned tasks  
> **Actual Outcome:** {Update after review complete}  
> **Resolution:** {Link to PR with fixes}

---

## Context

FreeGLBA extends the FreeCRM framework. The FreeCRM style guide (docs 004, 005) was created by analyzing 4-5 projects written by the framework's creator (FreeCRM-main, nForm, Helpdesk4, TrusselBuilder). Our goal is to ensure all FreeGLBA.App.* files match the preferred style of the framework author.

**Files to Review:** 25 FreeGLBA.App.* files across 6 projects

---

## Discussion

**[Architect]:** Alright team, we need to audit all our custom FreeGLBA code for style guide compliance. These are the files that follow the `{ProjectName}.App.{Feature}` naming convention — our project-specific code that extends FreeCRM.

The style guide was built from analyzing the framework author's own projects. We're not inventing rules — we're matching the established patterns. Let me pull up the file list.

**[Backend]:** I've got the inventory. We have 25 files total:

```
FreeGLBA.Client (6 files):
  - FreeGLBA.App.Helpers.cs
  - FreeGLBA.App.AccessEventsPage.razor
  - FreeGLBA.App.ComplianceReportsPage.razor
  - FreeGLBA.App.DataSubjectsPage.razor
  - FreeGLBA.App.GlbaDashboard.razor
  - FreeGLBA.App.SourceSystemsPage.razor

FreeGLBA.Client/Shared/AppComponents (4 files):
  - FreeGLBA.App.EditAccessEvent.razor
  - FreeGLBA.App.EditComplianceReport.razor
  - FreeGLBA.App.EditDataSubject.razor
  - FreeGLBA.App.EditSourceSystem.razor

FreeGLBA.DataAccess (4 files):
  - FreeGLBA.App.DataAccess.cs
  - FreeGLBA.App.DataAccess.ApiKey.cs
  - FreeGLBA.App.DataAccess.ExternalApi.cs
  - FreeGLBA.App.IDataAccess.cs

FreeGLBA.DataObjects (3 files):
  - FreeGLBA.App.DataObjects.cs
  - FreeGLBA.App.DataObjects.ExternalApi.cs
  - FreeGLBA.App.Endpoints.cs

FreeGLBA.EFModels (5 files):
  - FreeGLBA.App.AccessEvent.cs
  - FreeGLBA.App.ComplianceReport.cs
  - FreeGLBA.App.DataSubject.cs
  - FreeGLBA.App.EFDataModel.cs
  - FreeGLBA.App.SourceSystem.cs

FreeGLBA/Controllers (3 files):
  - FreeGLBA.App.ApiKeyMiddleware.cs
  - FreeGLBA.App.DataController.cs
  - FreeGLBA.App.GlbaController.cs
```

Plus 2 snippet files we can skip — those are just code templates.

**[Frontend]:** That's a lot. Should we group them by priority?

**[Architect]:** Yes. Let's use three phases based on complexity and impact:

**Phase 1 — Foundation (High Priority):** EF Models, DataObjects, Interfaces
- These define the data contracts. If they're wrong, everything built on top inherits the issues.

**Phase 2 — Business Logic (Medium Priority):** DataAccess, Controllers, Middleware  
- Core backend logic. These have the most C# code and the most style rules apply.

**Phase 3 — UI Layer (Lower Priority):** Razor pages, components, Helpers
- These mix C# and Razor. Different rules apply. Also, we just updated several of these for UX improvements.

**[Quality]:** What exactly are we checking for? Can we make a checklist?

**[Backend]:** From the style guide (doc 004), here are the key checks:

**C# Style Checks:**
1. ✅ File-scoped namespaces (no braces around namespace)
2. ✅ Opening braces: new line for classes/methods, same line for if/for/while
3. ✅ Explicit types with `new()` (no `var` unless type is obvious)
4. ✅ Private fields: `_camelCase` prefix
5. ✅ Local variables: `camelCase` (no prefix)
6. ✅ String interpolation `$""` over concatenation
7. ✅ Explicit null checks `if (x == null)` over pattern matching
8. ✅ LINQ: fluent method syntax preferred
9. ✅ No `Async` suffix on async method names
10. ✅ Guard clauses: single-line, no braces
11. ✅ Regular control flow: always braces
12. ✅ Section separators: 76 chars for file headers, 60 chars for sections

**Razor Style Checks:**
1. ✅ Component class names match file (dots become underscores)
2. ✅ `@inject` at top, `@code` at bottom
3. ✅ Use Helpers.* methods (DelayedFocus, MissingValue, etc.)
4. ✅ Loading states and save button disabling
5. ✅ Proper Model.Message_* feedback patterns

**[Sanity]:** Mid-check — are we overcomplicating this? Do we need to review every single file?

**[Architect]:** Good question. Some files were generated by the Entity Builder Wizard and might already be compliant. But we should still spot-check them. The wizard templates should follow the guide, but let's verify.

**[Frontend]:** I know the Edit components were just updated for UX — we added _saving states, DelayedFocus, validation. Those might already be good.

**[Backend]:** The DataAccess files got refactored recently too — we removed ExecuteUpdateAsync for provider compatibility. But we should check brace style, variable naming, etc.

**[Quality]:** Let me propose a review format. For each file:

```
## File: {filename}
**Lines:** {count}
**Status:** ✅ Compliant | ⚠️ Minor Issues | ❌ Needs Work

### Issues Found
- [ ] Issue 1 (line X): description
- [ ] Issue 2 (line Y): description

### Notes
{Any context or decisions}
```

**[Architect]:** Perfect. Let's assign phases.

**[Sanity]:** Final check — did we miss anything obvious?

**[Backend]:** The snippet files. Should we skip them?

**[Architect]:** Yes, skip `.snippet` files. They're templates, not runtime code.

**[Frontend]:** What about file size? The guide says 0-300 ideal, 600 max.

**[Quality]:** Good catch. Add that to the checklist. If a file exceeds 300 lines, note it. If it exceeds 600, flag for splitting.

---

## Decisions

1. Review 25 FreeGLBA.App.* files (skip 2 snippet files)
2. Three phases: Foundation → Business Logic → UI
3. Use standardized review format with checklist
4. File size check: flag >300 lines, require split >600 lines
5. Focus on style guide compliance, not functional changes

## File Inventory by Phase

### Phase 1: Foundation (8 files)
| File | Project | Est. Lines | Priority |
|------|---------|------------|----------|
| FreeGLBA.App.SourceSystem.cs | EFModels | ~35 | P1 |
| FreeGLBA.App.AccessEvent.cs | EFModels | ~50 | P1 |
| FreeGLBA.App.DataSubject.cs | EFModels | ~30 | P1 |
| FreeGLBA.App.ComplianceReport.cs | EFModels | ~40 | P1 |
| FreeGLBA.App.EFDataModel.cs | EFModels | ~30 | P1 |
| FreeGLBA.App.DataObjects.cs | DataObjects | ~200 | P1 |
| FreeGLBA.App.DataObjects.ExternalApi.cs | DataObjects | ~100 | P1 |
| FreeGLBA.App.Endpoints.cs | DataObjects | ~50 | P1 |

### Phase 2: Business Logic (7 files)
| File | Project | Est. Lines | Priority |
|------|---------|------------|----------|
| FreeGLBA.App.IDataAccess.cs | DataAccess | ~50 | P2 |
| FreeGLBA.App.DataAccess.cs | DataAccess | ~500 | P2 |
| FreeGLBA.App.DataAccess.ApiKey.cs | DataAccess | ~130 | P2 |
| FreeGLBA.App.DataAccess.ExternalApi.cs | DataAccess | ~200 | P2 |
| FreeGLBA.App.DataController.cs | Controllers | ~100 | P2 |
| FreeGLBA.App.GlbaController.cs | Controllers | ~150 | P2 |
| FreeGLBA.App.ApiKeyMiddleware.cs | Controllers | ~80 | P2 |

### Phase 3: UI Layer (10 files)
| File | Project | Est. Lines | Priority |
|------|---------|------------|----------|
| FreeGLBA.App.Helpers.cs | Client | ~50 | P3 |
| FreeGLBA.App.GlbaDashboard.razor | Pages | ~200 | P3 |
| FreeGLBA.App.SourceSystemsPage.razor | Pages | ~150 | P3 |
| FreeGLBA.App.AccessEventsPage.razor | Pages | ~180 | P3 |
| FreeGLBA.App.DataSubjectsPage.razor | Pages | ~150 | P3 |
| FreeGLBA.App.ComplianceReportsPage.razor | Pages | ~150 | P3 |
| FreeGLBA.App.EditSourceSystem.razor | Components | ~150 | P3 |
| FreeGLBA.App.EditAccessEvent.razor | Components | ~220 | P3 |
| FreeGLBA.App.EditDataSubject.razor | Components | ~120 | P3 |
| FreeGLBA.App.EditComplianceReport.razor | Components | ~200 | P3 |

## Next Steps

| Action | Owner | Priority |
|--------|-------|----------|
| Create CTO project plan with detailed checklist | [Architect] | P1 |
| Review Phase 1 files (EFModels, DataObjects) | [Backend] | P1 |
| Review Phase 2 files (DataAccess, Controllers) | [Backend] | P2 |
| Review Phase 3 files (Razor pages, components) | [Frontend] | P3 |
| Final compliance report | [Quality] | P3 |

---

*Created: 2025-01-15*  
*Maintained by: [Quality]*
